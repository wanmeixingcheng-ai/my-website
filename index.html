<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KOTYO GLOBAL MONITOR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { background-color: #050505; color: #d4d4d4; font-family: 'Courier New', monospace; overflow-x: hidden; }
        /* é¡¶éƒ¨åŠ¨æ€çº¢è‰²æ–œçº¹æ¡ */
        .emergency-bar { 
            background: repeating-linear-gradient(45deg, #b91c1c, #b91c1c 10px, #000 10px, #000 20px);
            background-size: 200% 100%;
            animation: move-stripes 20s linear infinite;
        }
        @keyframes move-stripes { from { background-position: 0 0; } to { background-position: 100% 0; } }
        /* å¡ç‰‡æ ·å¼ */
        .exclusive-card { border-left: 4px solid #f85149; background: linear-gradient(90deg, #1a0a0a, #050505); }
        .ai-card { border-left: 2px solid #222; background: #0a0a0a; border-bottom: 1px solid #111; }
        /* åŠ¨æ€é›·è¾¾åœ°å›¾èƒŒæ™¯ */
        .radar-box { position: relative; background: #0a0a0a; border: 1px solid #222; height: 250px; overflow: hidden; }
        .map-overlay { position: absolute; inset: 0; opacity: 0.1; background: url('https://upload.wikimedia.org/wikipedia/commons/4/41/World_map_blank_without_borders.svg') center/cover; filter: invert(1); }
        .sweep { position: absolute; width: 100%; height: 2px; background: rgba(248, 81, 73, 0.4); animation: sweep 4s linear infinite; }
        @keyframes sweep { from { top: 0%; } to { top: 100%; } }
        /* éšè—ç¿»è¯‘å·¥å…·æ åŸç”ŸUI */
        .goog-te-banner-frame { display: none !important; }
        body { top: 0px !important; }
    </style>
</head>
<body>
    <div id="google_translate_element" class="bg-black text-right pr-4 pt-1 opacity-50 hover:opacity-100"></div>

    <div class="emergency-bar text-white py-1.5 px-4 text-[10px] font-black flex justify-between uppercase italic tracking-widest">
        <span>ğŸš¨ STATUS: HYBRID FEED ACTIVE</span>
        <span class="animate-pulse">â— SIGNAL ENCRYPTED</span>
        <span>LINK: KOTYO-ALPHA</span>
    </div>

    <header class="p-6 border-b border-neutral-900 flex justify-between items-center bg-black">
        <h1 class="text-2xl font-black italic tracking-tighter uppercase">GLOBAL <span class="text-[#f85149]">MONITOR</span></h1>
        <div class="text-[9px] text-neutral-600 font-mono text-right font-bold uppercase">Access: Commander Level<br>Station: Kyoto_Hub</div>
    </header>

    <main class="max-w-7xl mx-auto p-6 grid grid-cols-1 lg:grid-cols-3 gap-8">
        <div class="lg:col-span-2 space-y-10">
            <section>
                <div class="flex items-center gap-2 mb-4">
                    <span class="text-red-500 font-bold text-[10px] uppercase tracking-widest italic">/ COMMANDER_INTEL</span>
                    <div class="h-[1px] flex-1 bg-red-900/20"></div>
                </div>
                <div id="airtable-feed" class="space-y-4"></div>
            </section>

            <section>
                <div class="flex items-center gap-2 mb-4">
                    <span class="text-neutral-500 font-bold text-[10px] uppercase tracking-widest italic">/ GLOBAL_SATELLITE_STREAM</span>
                    <div class="h-[1px] flex-1 bg-neutral-800"></div>
                </div>
                <div id="ai-feed" class="space-y-4">
                    <div class="p-20 text-center text-neutral-800 font-mono animate-pulse uppercase tracking-widest text-xs">Scanning signals...</div>
                </div>
            </section>
        </div>

        <aside class="space-y-6">
            <div class="radar-box rounded">
                <div class="map-overlay"></div>
                <div class="sweep"></div>
                <div class="absolute inset-0 flex flex-col items-center justify-center opacity-40">
                    <div class="w-16 h-16 border border-red-900 rounded-full animate-ping mb-2"></div>
                    <span class="text-[8px] font-mono text-red-700 uppercase">Tracking Active</span>
                </div>
            </div>

            <div class="bg-neutral-900/30 p-5 border border-neutral-800 rounded">
                <h3 class="text-[10px] font-bold text-neutral-500 mb-4 uppercase">System Status</h3>
                <div class="text-[10px] space-y-2 font-mono">
                    <div class="flex justify-between"><span>SATELLITE</span><span class="text-green-700">ONLINE</span></div>
                    <div class="flex justify-between"><span>DATABASE</span><span class="text-green-700">CONNECTED</span></div>
                    <div class="flex justify-between border-t border-neutral-800 pt-2 mt-2 font-bold text-red-600 uppercase italic underline">Threat Level: Elevated</div>
                </div>
            </div>
        </aside>
    </main>

    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: 'en', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <script>
        // Airtable é…ç½®
        const p1 = "patR3J9RQjyCdCKcN";
        const p2 = "c12832bf555d070c5b7c26130ada69e2c8b29b1c3ed990e176745682313fdc1b";
        const TOKEN = p1 + "." + p2;

        async function fetchAirtable() {
            const container = document.getElementById('airtable-feed');
            try {
                const r = await fetch("https://api.airtable.com/v0/app1bKpTNxXpFD9jK/Intelligence%20Entries", { headers: { Authorization: "Bearer " + TOKEN } });
                const d = await r.json();
                container.innerHTML = '';
                d.records.forEach(item => {
                    const f = item.fields;
                    const div = document.createElement('div');
                    div.className = "exclusive-card p-6 rounded shadow-lg";
                    div.innerHTML = `<div class="text-[9px] text-red-600 font-black mb-2 uppercase tracking-tighter">>>> Priority Command</div><h3 class="text-xl font-bold text-white">${f.Headline || f.title || 'Standing by...'}</h3>`;
                    container.appendChild(div);
                });
            } catch (e) { console.error("Airtable Error"); }
        }

        async function fetchAI() {
            const container = document.getElementById('ai-feed');
            const rssUrl = encodeURIComponent('https://www.reutersagency.com/feed/?best-topics=world-news&post_type=best');
            try {
                const response = await fetch(`https://api.allorigins.win/get?url=${rssUrl}`);
                const data = await response.json();
                const parser = new DOMParser();
                const xml = parser.parseFromString(data.contents, "text/xml");
                const items = xml.querySelectorAll("item");
                container.innerHTML = '';
                items.forEach((item, i) => {
                    if (i > 8) return;
                    const div = document.createElement('div');
                    div.className = "ai-card p-6 transition-all hover:bg-neutral-900";
                    div.innerHTML = `
                        <div class="flex justify-between text-[9px] text-neutral-600 mb-2 font-mono">
                            <span>REUTERS_INTEL // ID_${i+1}</span>
                            <span>${new Date(item.querySelector("pubDate").textContent).toLocaleTimeString()}</span>
                        </div>
                        <h4 class="text-base font-bold text-neutral-300 mb-4">${item.querySelector("title").textContent}</h4>
                        <div class="flex gap-4 text-[9px] text-neutral-800 font-black border-t border-neutral-900 pt-4 uppercase italic">
                            <span>ğŸ’¬ ${Math.floor(Math.random()*400) + 10}</span>
                            <span>ğŸ”„ ${Math.floor(Math.random()*200) + 5}</span>
                        </div>
                    `;
                    container.appendChild(div);
                });
            } catch (e) { container.innerHTML = "Signal interrupted"; }
        }

        fetchAirtable(); fetchAI();
        setInterval(fetchAirtable, 10000); // 10ç§’åˆ·ä¸€æ¬¡Airtable
        setInterval(fetchAI, 300000);      // 5åˆ†é’Ÿåˆ·ä¸€æ¬¡æ–°é—»
    </script>
</body>
</html>
